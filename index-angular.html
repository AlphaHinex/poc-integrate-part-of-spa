<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title></title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width">
  <link rel="stylesheet" href="http://localhost:810/styles/vendor.7f14bbd6.css" />
  <link rel="stylesheet" href="http://localhost:810/styles/main.e9064302.css" />
</head>
<body>

  <div>
    <button onclick="renderSnippet('views/form-demo/input-demo.html');">Input Demo</button>
    <button onclick="renderSnippet('views/form-demo/tabs-demo.html');">Tabs Demo</button>
    <button onclick="renderSnippet('views/main.html')">Home</button>
  </div>

  <div id="angularBlock"></div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.15/angular.min.js"></script>
  <script src="http://localhost:810/scripts/vendor.721aff1d.js"></script>
  <script src="http://localhost:810/scripts/scripts.7cc8468d.js"></script>
  <script>
    var ngAppName = 'aresApp';
    var urlPrefix = 'http://localhost:810/';

    function renderSnippet(url) {
      $('#angularBlock').empty();
      $('#angularBlock').append('<div id="innerBlock"></div>');
      $.get(urlPrefix + url)
        .done(function(data) {
          $('#innerBlock').append(data);
        })
        .done(function() {
          $.when(loadNgInclude())
          .done(function() {
            angular.bootstrap($('#innerBlock'), [ngAppName]);
          });
        });
    }

    function loadNgInclude() {
      var dtd = $.Deferred();
      var requests = Array();
      var includes = $('#innerBlock').find('[ng-include]');
      includes.each(function(index, el) {
        var url = $(el).attr('src') || $(el).attr('ng-include')
        url = url.replace(/[\'\"]/g, '');
        requests.push($.get(urlPrefix + url)
                        .done(function(data) {
                          $(el).append(data);
                          $(el).removeAttr('ng-include');
                          $(el).removeAttr('src');
                        }));
      });
      $.when.apply($, requests).done(function() {
        dtd.resolve();
      });
      return dtd.promise();
    }
  </script>
</body>
</html>